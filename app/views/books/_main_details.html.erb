<% if @book.nil? %>
    <!-- Main book details empty table -->
    <table id="book-details-main" class="book-details-table table table-bordered">
        <thead class="thead-light text-center">
            <tr class="text-left">
            <th scope="col">Image</th>
            <th scope="col">Author</th>
            <th scope="col">Title</th>
            <th scope="col">List</th>
            <th scope="col">Wholesale</th>
            <th scope="col">Amazon Low</th>
            <th scope="col">FBA Low</th>
            <th scope="col">Amazon Rental</th>
            <th scope="col">Sales Rank</th>
            <th scope="col">Pub</th>
            <th scope="col">Subject</th>
            </tr>
        </thead>
        <tbody>
            <tr class="no-data">
                <td colspan="11" class="text-center">No data available in table</td>
            </tr>
        </tbody>
    </table>

<% else %>
    <!-- Flex divs -->
    <div class="book-details mb-4">
        <div class="col-detail">
            <p class="title">Image</p>
            <div>
                <%= image_tag @book.default_image_url, :class => 'mx-auto d-block' %>
            </div>
        </div>
        <div class="col-detail">
            <p class="title">Author</p>
            <div>
                <%= @book.author ? @book.author : 'N/A'  %>
            </div>
        </div>
        <div class="col-detail">
            <p class="title">Title</p>
            <div>
                <%= @book.title ? @book.title : 'N/A'  %> <br>
                <%= @book.edition ? @book.edition : 'N/A'  %> <br>
                <%= @book.isbn ? @book.isbn : 'N/A'  %> <br>
                <%= @book.ean ? @book.ean : 'N/A'  %> <br>
                OE: 
                <% if @book.oe_isbn? %>
                    <%= link_to  "#{@book.oe_isbn}", details_book_path(:id => @book.oe_isbn), method: :get, class: 'text-info' %>
                <% else %>
                    N/A
                <% end %>
                NE: 
                <% if @book.ne_isbn? %>
                    <%= link_to "#{@book.ne_isbn}", details_book_path(:id => @book.ne_isbn), method: :get, class: 'text-info' %>
                <% else %>
                    N/A
                <% end %>
            </div>
        </div>
        <div class="col-detail">
            <p class="title">List</p>
            <div>
                <%= @book.list_price ? @book.list_price : 'N/A' %>
            </div>
        </div>
        <div class="col-detail">
            <p class="title">Wholesale</p>
            <div>
                <%= @book.max_used_wholesale_price ? @book.max_used_wholesale_price : 'N/A' %> <br>
                <%= @book.edition_status_code ? @book.edition_status_code : 'N/A' %>
                <%= @book.edition_status_date ? @book.edition_status_date : 'N/A' %>
            </div>
        </div>
        <div class="col-detail">
            <p class="title">Amazon Low</p>
            <div>
                7d: <%= @book.amazon_ca_low ? @book.amazon_ca_low : 'N/A' %> <br>
                1/<%= Book.jan_year %>: <%= @book.lowest_price_jan_average ? @book.lowest_price_jan_average : 'N/A' %> <br>
                8/<%= Book.aug_year %>: <%= @book.lowest_price_aug_average ? @book.lowest_price_aug_average : 'N/A' %>
            </div>
        </div>
        <div class="col-detail">
            <p class="title">FBA Low</p>
            <div>
                7d: <%= @book.weekly_fba ? @book.weekly_fba : 'N/A' %> <br>
                8/<%= Book.aug_year %>: <%= @book.lowest_price_aug_average ? @book.lowest_price_aug_average : 'N/A' %>
            </div>
        </div>
        <div class="col-detail">
            <p class="title">Amazon Rental</p>
            <div>
                7d: <%= @book.lowest_rental_average ? @book.lowest_rental_average : 'N/A' %> <br>
                8/<%= Book.aug_year %>: <%= @book.lowest_rental_august_average ? @book.lowest_rental_august_average : 'N/A' %>
            </div>
        </div>
        <div class="col-detail">
            <p class="title">Sales Rank</p>
            <div>
                7d: <%= @book.weekly_sales_rank ? @book.weekly_sales_rank : 'N/A' %> <br>
                1/<%= Book.jan_year %>: <%= @book.sales_rank_jan_average ? @book.sales_rank_jan_average : 'N/A' %> <br>
                8/<%= Book.aug_year%> : <%= @book.sales_rank_aug_average ? @book.sales_rank_aug_average : 'N/A' %> <br>
                OE: <%= @book.oe_isbn_rec ? @book.oe_isbn_rec.sales_rank : 'N/A' %>
            </div>
        </div>
        <div class="col-detail">
            <p class="title">Pub</p>
            <div>
                <%= @book.publisher ? @book.publisher : 'N/A' %> <br>
                <%= @book.publication_date ? @book.publication_date : 'N/A' %> <br>
                Life: <%= @book.life ? @book.life : 'N/A' %> <br>
                OE Life: <%= @book.oe_life ? @book.oe_life : 'N/A' %> <br>
                C Life: <%= @book.c_life ? @book.c_life : 'N/A' %> <br>
                R Life: <%= @book.r_life ? @book.r_life : 'N/A' %> <br>
                <%= @book.binding ? @book.binding : 'N/A' %>
            </div>
        </div>
        <div class="col-detail">
            <p class="title">Subject</p>
            <div>
                <%= @book.subject ? @book.subject : 'N/A' %>
            </div>
        </div>
    </div>
<% end %>
